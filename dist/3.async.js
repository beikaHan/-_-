(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{JkTu:function(e,t,a){"use strict";var s=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("/xke");var r=s(a("TeRw")),n=s(a("MVZn")),l=s(a("o0o1")),u=(s(a("wd/R")),a("b/c7")),c=a("ZNLi"),d={namespace:"classManage",state:{loading:!1,teacherItem:{},teacherData:{list:[],pagination:{}},classItem:{},classData:{list:[],pagination:{}},classDataAll:[],studentItem:{},studentData:{list:[],pagination:{}},teacherDetailData:{list:[],pagination:{}},studentDetailData:{list:[],pagination:{}}},subscriptions:{setup:function(e){e.dispatch,e.history}},effects:{getTeacherList:l.default.mark(function e(t,a){var s,r,n,d,i,p,o;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,t.callback,r=a.call,a.select,n=a.put,d={rows:s&&s.rows?s.rows:10,page:s&&s.page?s.page:1,name:s&&s.nameS?s.nameS:"",staffNo:s&&s.staffNoS?s.staffNoS:""},e.next=5,r(c.getTeacher,d);case 5:if(i=e.sent,(0,u.validResult)(i)){e.next=8;break}return e.abrupt("return");case 8:return p={},o={},o.current=i.data.current?parseInt(i.data.current):1,o.pageSize=i.data.size?parseInt(i.data.size):10,o.total=parseInt(i.data.total),p.pagination=o,p.list=i.data.list,e.next=17,n({type:"saveTeacherData",payload:p});case 17:case"end":return e.stop()}},e,this)}),addTeacherData:l.default.mark(function e(t,a){var s,d,i,p,o,f;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,d=t.callback,i=a.call,a.select,p=a.put,o=(0,n.default)({},s.values),console.log(o),e.next=6,i(c.addTeacherData,o);case 6:if(f=e.sent,(0,u.validResult)(f)){e.next=9;break}return e.abrupt("return");case 9:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=12,p({type:"getTeacherList",payload:(0,n.default)({},s.searchVal)});case 12:d&&d();case 13:case"end":return e.stop()}},e,this)}),getTeacherItem:l.default.mark(function e(t,a){var s,r,n,d,i;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,t.callback,r=a.call,a.select,n=a.put,d={id:s.id},e.next=5,r(c.getTeacherItem,d);case 5:if(i=e.sent,(0,u.validResult)(i)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,n({type:"saveCP",payload:{teacherItem:i.data.schoolTeacher}});case 10:case"end":return e.stop()}},e,this)}),uptTeacherData:l.default.mark(function e(t,a){var s,d,i,p,o,f;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,d=t.callback,i=a.call,a.select,p=a.put,o=(0,n.default)({},s.values),e.next=5,i(c.uptTeacherItem,o);case 5:if(f=e.sent,(0,u.validResult)(f)){e.next=8;break}return e.abrupt("return");case 8:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=11,p({type:"getTeacherList",payload:(0,n.default)({},s.searchVal)});case 11:d&&d();case 12:case"end":return e.stop()}},e,this)}),delTeacherData:l.default.mark(function e(t,a){var s,d,i,p,o,f;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,d=t.callback,i=a.call,a.select,p=a.put,console.log(s),o={ids:s&&s.ids?s.ids:[]},e.next=6,i(c.delTeacher,o);case 6:if(f=e.sent,(0,u.validResult)(f)){e.next=9;break}return e.abrupt("return");case 9:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=12,p({type:"getTeacherList",payload:(0,n.default)({},s.searchVal)});case 12:d&&d();case 13:case"end":return e.stop()}},e,this)}),getdetailInfo:l.default.mark(function e(t,a){var s,r,d,i,p,o,f,h;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,r=t.callback,d=a.call,a.select,i=a.put,p=(0,n.default)({},s),e.next=5,d(c.getTeacherDetail,p);case 5:if(o=e.sent,(0,u.validResult)(o)){e.next=8;break}return e.abrupt("return");case 8:return f={},h={},h.current=o.data.current?parseInt(o.data.current):1,h.pageSize=o.data.size?parseInt(o.data.size):10,h.total=parseInt(o.data.total),f.pagination=h,f.list=o.data.list,e.next=17,i({type:"saveStudentDetailData",payload:f});case 17:r&&r();case 18:case"end":return e.stop()}},e,this)}),getTeacherDetail:l.default.mark(function e(t,a){var s,r,d,i,p,o,f,h;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,r=t.callback,d=a.call,a.select,i=a.put,p=(0,n.default)({},s),e.next=5,d(c.getTeacherDetail,p);case 5:if(o=e.sent,(0,u.validResult)(o)){e.next=8;break}return e.abrupt("return");case 8:return f={},h={},h.current=o.data.current?parseInt(o.data.current):1,h.pageSize=o.data.size?parseInt(o.data.size):10,h.total=parseInt(o.data.total),f.pagination=h,f.list=o.data.list,e.next=17,i({type:"saveTeacherDetailData",payload:f});case 17:r&&r();case 18:case"end":return e.stop()}},e,this)}),getClassList:l.default.mark(function e(t,a){var s,r,n,d,i,p,o;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,t.callback,r=a.call,a.select,n=a.put,d={rows:s&&s.rows?s.rows:10,page:s&&s.page?s.page:1,title:s&&s.titleS?s.titleS:""},e.next=5,r(c.getClass,d);case 5:if(i=e.sent,(0,u.validResult)(i)){e.next=8;break}return e.abrupt("return");case 8:return p={},o={},o.current=i.data.current?parseInt(i.data.current):1,o.pageSize=i.data.size?parseInt(i.data.size):10,o.total=parseInt(i.data.total),p.pagination=o,p.list=i.data.list,e.next=17,n({type:"saveClassData",payload:p});case 17:case"end":return e.stop()}},e,this)}),addClassData:l.default.mark(function e(t,a){var s,d,i,p,o,f;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,d=t.callback,i=a.call,a.select,p=a.put,o=(0,n.default)({},s.values),console.log(o),e.next=6,i(c.addClassData,o);case 6:if(f=e.sent,(0,u.validResult)(f)){e.next=9;break}return e.abrupt("return");case 9:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=12,p({type:"getClassList",payload:(0,n.default)({},s.searchVal)});case 12:d&&d();case 13:case"end":return e.stop()}},e,this)}),getClassItem:l.default.mark(function e(t,a){var s,r,n,d,i;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,t.callback,r=a.call,a.select,n=a.put,d={id:s.id},e.next=5,r(c.getClassItem,d);case 5:if(i=e.sent,(0,u.validResult)(i)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,n({type:"saveCP",payload:{classItem:i.data.schoolClass}});case 10:case"end":return e.stop()}},e,this)}),uptClassData:l.default.mark(function e(t,a){var s,d,i,p,o,f;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,d=t.callback,i=a.call,a.select,p=a.put,o=(0,n.default)({},s.values),e.next=5,i(c.uptClassItem,o);case 5:if(f=e.sent,(0,u.validResult)(f)){e.next=8;break}return e.abrupt("return");case 8:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=11,p({type:"getClassList",payload:(0,n.default)({},s.searchVal)});case 11:d&&d();case 12:case"end":return e.stop()}},e,this)}),delClassData:l.default.mark(function e(t,a){var s,d,i,p,o,f;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,d=t.callback,i=a.call,a.select,p=a.put,o={ids:s&&s.ids?s.ids:[]},e.next=5,i(c.delClass,o);case 5:if(f=e.sent,(0,u.validResult)(f)){e.next=8;break}return e.abrupt("return");case 8:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=11,p({type:"getClassList",payload:(0,n.default)({},s.searchVal)});case 11:d&&d();case 12:case"end":return e.stop()}},e,this)}),getClassAll:l.default.mark(function e(t,a){var s,r,n;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,t.callback,s=a.call,a.select,r=a.put,e.next=4,s(c.getClassAll);case 4:if(n=e.sent,(0,u.validResult)(n)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,r({type:"saveCP",payload:{classDataAll:n.data.list}});case 9:case"end":return e.stop()}},e,this)}),getStudentList:l.default.mark(function e(t,a){var s,r,n,d,i,p,o;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,t.callback,r=a.call,a.select,n=a.put,d={rows:s&&s.rows?s.rows:10,page:s&&s.page?s.page:1,name:s&&s.nameS?s.nameS:"",studentNo:s&&s.studentNoS?s.studentNoS:"",classTitle:s&&s.classTitleS?s.classTitleS:"",status:s&&s.statusS?s.statusS:""},e.next=5,r(c.getStudent,d);case 5:if(i=e.sent,(0,u.validResult)(i)){e.next=8;break}return e.abrupt("return");case 8:return p={},o={},o.current=i.data.current?parseInt(i.data.current):1,o.pageSize=i.data.size?parseInt(i.data.size):10,o.total=parseInt(i.data.total),p.pagination=o,p.list=i.data.list,e.next=17,n({type:"saveStudentData",payload:p});case 17:case"end":return e.stop()}},e,this)}),addStudentData:l.default.mark(function e(t,a){var s,d,i,p,o,f;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,d=t.callback,i=a.call,a.select,p=a.put,o=(0,n.default)({},s.values),console.log(o),e.next=6,i(c.addStudentData,o);case 6:if(f=e.sent,(0,u.validResult)(f)){e.next=9;break}return e.abrupt("return");case 9:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=12,p({type:"getStudentList",payload:(0,n.default)({},s.searchVal)});case 12:d&&d();case 13:case"end":return e.stop()}},e,this)}),getStudentItem:l.default.mark(function e(t,a){var s,r,n,d,i;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,t.callback,r=a.call,a.select,n=a.put,d={id:s.id},e.next=5,r(c.getStudentItem,d);case 5:if(i=e.sent,(0,u.validResult)(i)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,n({type:"saveCP",payload:{studentItem:i.data.schoolStudent}});case 10:case"end":return e.stop()}},e,this)}),uptStudentData:l.default.mark(function e(t,a){var s,d,i,p,o,f;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,d=t.callback,i=a.call,a.select,p=a.put,o=(0,n.default)({},s.values),e.next=5,i(c.uptStudentItem,o);case 5:if(f=e.sent,(0,u.validResult)(f)){e.next=8;break}return e.abrupt("return");case 8:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=11,p({type:"getStudentList",payload:(0,n.default)({},s.searchVal)});case 11:d&&d();case 12:case"end":return e.stop()}},e,this)}),delStudentData:l.default.mark(function e(t,a){var s,d,i,p,o,f;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,d=t.callback,i=a.call,a.select,p=a.put,console.log(s),o={ids:s&&s.ids?s.ids:[]},e.next=6,i(c.delStudent,o);case 6:if(f=e.sent,(0,u.validResult)(f)){e.next=9;break}return e.abrupt("return");case 9:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=12,p({type:"getStudentList",payload:(0,n.default)({},s.searchVal)});case 12:d&&d();case 13:case"end":return e.stop()}},e,this)})},reducers:{changeLoading:function(e,t){return(0,n.default)({},e,{loading:t.payload})},saveCP:function(e,t){return(0,n.default)({},e,t.payload)},saveTeacherData:function(e,t){return(0,n.default)({},e,{teacherData:t.payload})},saveClassData:function(e,t){return(0,n.default)({},e,{classData:t.payload})},saveStudentData:function(e,t){return(0,n.default)({},e,{studentData:t.payload})},saveTeacherDetailData:function(e,t){return(0,n.default)({},e,{teacherDetailData:t.payload})},saveStudentDetailData:function(e,t){return(0,n.default)({},e,{studentDetailData:t.payload})}}};t.default=d}}]);