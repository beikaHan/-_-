(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{Izme:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var o=n(a("wCAj")),r=n(a("MVZn"));a("/zsF");var d=n(a("PArb")),i=n(a("lwsE")),u=n(a("W8MJ")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("7W2i")),p=l(a("q1tI")),m=(n(a("wd/R")),n(a("sSqL"))),h=function(e){function t(){var e,a;(0,i.default)(this,t);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(n))),a.state={selectedRowKeys:[]},a.handleRowSelectChange=function(e,t){var l=t.reduce(function(e,t){return(e||0)+parseFloat(t.callNo||0,10)},0);a.props.onSelectRow&&a.props.onSelectRow(t),a.setState({selectedRowKeys:e,totalCallNo:l})},a.cleanSelectedKeys=function(){a.handleRowSelectChange([],[])},a.handleTableChange=function(e,t,l){a.props.onChange(e,t,l)},a.handleInfo=function(e){a.props.handleInfo(e)},a.delInfo=function(e){a.props.delInfo(e)},a.uptInfo=function(e,t){a.props.uptInfo(e,t)},a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,l=a.list,n=a.pagination,i=t.loading,u=this.state.selectedRowKeys,s=[{title:"\u77e5\u8bc6\u70b9",dataIndex:"questionTopicTitle",key:"questionTopicTitle"},{title:"\u9898\u76ee\u7c7b\u578b",key:"questionType",dataIndex:"questionType",render:function(e,t){return p.default.createElement("div",{className:m.default.handle},1==e?"\u5355\u9009":2==e?"\u591a\u9009":3==e?"\u9009\u62e9":"\u5224\u65ad")}},{title:"\u9898\u76ee",dataIndex:"content",key:"content"},{title:"\u96be\u6613\u5ea6",dataIndex:"level",key:"level",render:function(e,t){return p.default.createElement("div",{className:m.default.handle},1==e?"\u7b80\u5355":2==e?"\u6b63\u5e38":"\u56f0\u96be")}},{title:"\u56fe\u7247\\\u89c6\u9891",dataIndex:"materialUrl",key:"materialUrl",render:function(e,t){return p.default.createElement("a",{href:e,target:"_blank"},e?"\u9884\u89c8":null)}},{title:"\u64cd\u4f5c",key:"5",align:"center",render:function(t,a){return p.default.createElement("div",{className:m.default.handle},p.default.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.delInfo(a)}},"\u5220\u9664"),p.default.createElement(d.default,{type:"vertical"}),p.default.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.uptInfo("edit",a)}},"\u4fee\u6539"))}}],c=(0,r.default)({showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","50","100"]},n),f={selectedRowKeys:u,onChange:this.handleRowSelectChange,getCheckboxProps:function(e){return{disabled:e.disabled}}};return p.default.createElement("div",{className:"".concat(m.default.classManageTable," ").concat(m.default.manageTable)},p.default.createElement(o.default,{loading:i,rowKey:function(e){return e.id},dataSource:l,columns:s,rowSelection:f,pagination:c,onChange:this.handleTableChange}))}}]),t}(p.Component),g=h;t.default=g},OFJw:function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("DZo9");var o=l(a("8z0m"));a("sRBo");var r=l(a("kaz8"));a("+L6B");var d=l(a("2/Rp")),i=l(a("pVnL"));a("Pwec");var u=l(a("CtXQ")),s=l(a("lwsE")),c=l(a("W8MJ")),f=l(a("a1gu")),p=l(a("Nsbk")),m=l(a("7W2i"));a("5NDa");var h=l(a("5rEg"));a("OaEy");var g=l(a("2fM7"));a("7Kak");var y=l(a("9yH6"));a("y8nQ");var v,k,E=l(a("Vl3Y")),S=n(a("q1tI")),C=(l(a("wd/R")),a("MuoO"),l(a("sSqL"))),w=a("7Qib"),I=l(a("kruT")),b=E.default.Item,T=(y.default.Button,y.default.Group),M=g.default.Option,x=h.default.TextArea;function D(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}function R(e){}var B=(v=E.default.create(),v(k=function(e){function t(){var e,a;(0,s.default)(this,t);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return a=(0,f.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(n))),a.state={width:"100%",loading:!1,loadingImg:!1,materialResourceId:"",imageUrl:"",materialOther:""},a.resizeFooterToolbar=function(){var e=document.querySelectorAll(".ant-layout-sider")[0],t="calc(100% - ".concat(e.style.width,")");a.state.width!==t&&a.setState({width:t})},a.handleGoBack=function(){a.setState({imageUrl:""}),a.props.addHide()},a.handleChange=function(e){e.preventDefault(),a.props.add(a.state.materialResourceId)},a.handleresourceChange=function(e,t,l){a.props.handleresourceChange(e,t,l)},a.changeUploadList=function(e,t){a.props.changeUploadList(e,t)},a.handleUptImgChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&(console.log(e.file.type),"image/jpeg"===e.file.type||"image/png"===e.file.type?D(e.file.originFileObj,function(t){return a.setState({imageUrl:t,materialOther:null,loadingImg:!1,materialResourceId:e.file.response.resource.id})}):a.setState({imageUrl:null,materialOther:"\u5df2\u6709\u8d44\u6e90",loadingImg:!1,materialResourceId:e.file.response.resource.id})):a.setState({loadingImg:!0})},a.onUploadChange=function(e,t){a.props.onUploadChange(e.target.value,t)},a.onSingleS=function(e,t){a.props.onSingleChange(e.target.value,t)},a.normalVal=function(e){for(var t=0;t<e.length;t++)if(e[t].isCorrect&&1===e[t].isCorrect)return t+1;return 1},a.normalMoreVal=function(e){for(var t=[],a=0;a<e.length;a++)e[a].isCorrect&&1===e[a].isCorrect&&t.push(e[a].sort);return t},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resizeFooterToolbar)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeFooterToolbar)}},{key:"renderForm",value:function(){var e=this,t=this.props,a=t.itemId,l=t.addVisible,n=t.itemDetails,s=(t.classifyDisplayAll,t.addModalTitle),c=t.items,f=t.schoolQuestionTopicData,p=this.props.dispatch.form,m=p.getFieldDecorator,v=p.getFieldValue;console.log(v("questionType")),console.log(n);var k=this.state,D=k.imageUrl,B=k.materialOther,V={labelCol:{span:4},wrapperCol:{xs:{span:28,offset:0},sm:{span:10,offset:0}}},q=[];return f&&f.map(function(e){q.push(S.default.createElement(M,{value:e.id,key:e.id},e.title))}),S.default.createElement("div",{className:C.default.showAdd},S.default.createElement("div",{className:l?C.default.add:C.default.hideAdd},S.default.createElement("div",{className:C.default.nav},S.default.createElement(u.default,{type:"left",className:C.default.icon,onClick:this.handleGoBack})," ",s),S.default.createElement("div",{className:C.default.content},S.default.createElement(E.default,{onSubmit:this.handleChange,layout:"inline"},S.default.createElement(b,(0,i.default)({label:"\u77e5\u8bc6\u70b9"},V,{colon:!1}),m("questionTopicId",{initialValue:""!=a&&void 0!=n&&void 0!=n.questionTopicId?n.questionTopicId:"",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u77e5\u8bc6\u70b9"}]})(S.default.createElement(g.default,{placeholder:"\u65e0",getPopupContainer:function(){return document.getElementById("questionTopicId")}},q))),S.default.createElement(b,(0,i.default)({label:"\u96be\u6613\u5ea6"},V,{colon:!1}),m("level",{initialValue:""!=a&&void 0!=n&&void 0!=n.level?n.level:1})(S.default.createElement(g.default,{placeholder:1,getPopupContainer:function(){return document.getElementById("level")}},S.default.createElement(M,{value:1,key:1},"\u7b80\u5355"),S.default.createElement(M,{value:2,key:2},"\u666e\u901a"),S.default.createElement(M,{value:3,key:3},"\u56f0\u96be")))),S.default.createElement(b,(0,i.default)({label:"\u95ee\u9898\u7c7b\u578b"},V,{colon:!1}),m("questionType",{initialValue:""!=a&&void 0!=n&&void 0!=n.questionType?n.questionType:1})(S.default.createElement(g.default,{placeholder:1,getPopupContainer:function(){return document.getElementById("questionType")}},S.default.createElement(M,{value:1,key:1},"\u5355\u9009"),S.default.createElement(M,{value:2,key:2},"\u591a\u9009"),S.default.createElement(M,{value:4,key:4},"\u5224\u65ad")))),S.default.createElement(b,(0,i.default)({label:"\u9898\u76ee\u4fe1\u606f"},V,{colon:!1}),m("content",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9898\u76ee\u4fe1\u606f"},{max:200,message:"\u8d85\u51fa\u957f\u5ea6\u9650\u5236"}],initialValue:""!=a&&void 0!=n&&void 0!=n.content?n.content:""})(S.default.createElement(x,{placeholder:""!=a&&void 0!=n&&void 0!=n.content&&n.content.length>0?n.content:"\u8bf7\u8f93\u5165\u63d0\u793a\u8bed",className:C.default.description}))),1===v("questionType")?S.default.createElement(b,(0,i.default)({label:"\u5355\u9009\u7b54\u6848"},V,{colon:!1}),m("item",{initialValue:this.normalVal(c)})(S.default.createElement(T,null,c&&c.map(function(t,a){return S.default.createElement("div",{className:C.default.upload,key:t.key},S.default.createElement(y.default,{value:a+1,key:a+1},a+1),S.default.createElement(h.default,{defaultValue:t.content,onChange:function(a){return e.onSingleS(a,t.key)}}),S.default.createElement(d.default,{style:{marginLeft:"10px"},type:"danger",ghost:!0,onClick:function(){return e.changeUploadList("minus",t.key,t.sort)}},"\u5220\u9664"))})))):null,2===v("questionType")?S.default.createElement(b,(0,i.default)({label:"\u591a\u9009\u7b54\u6848"},V,{colon:!1}),m("itemMore",{initialValue:this.normalMoreVal(c)})(S.default.createElement(r.default.Group,{style:{width:"100%"}},c&&c.map(function(t,a){return S.default.createElement("div",{className:C.default.upload,key:t.key},S.default.createElement(r.default,{value:a+1,key:a+1},a+1),S.default.createElement(h.default,{defaultValue:t.content,onChange:function(a){return e.onSingleS(a,t.key)}}),S.default.createElement(d.default,{style:{marginLeft:"10px"},type:"danger",ghost:!0,onClick:function(){return e.changeUploadList("minus",t.key)}},"\u5220\u9664"))})))):null,4===v("questionType")?S.default.createElement(b,(0,i.default)({label:"\u662f\u5426\u6b63\u786e"},V,{colon:!1}),m("itemNike",{initialValue:c&&c[0]&&1==c[0].isCorrect?1:2})(S.default.createElement(T,null,S.default.createElement(y.default,{value:1,key:1},"\u5bf9"),S.default.createElement(y.default,{value:2,key:2},"\u9519")))):null,S.default.createElement(b,{label:"",colon:!1},m("materialResourceId")(S.default.createElement("div",{className:C.default.img,onClick:this.showPicImportModal},S.default.createElement(o.default,{name:"file",listType:"picture-card",showUploadList:!1,headers:{JSESSIONID:(0,w.getCookie)()?(0,w.getCookie)():null},action:"".concat(I.default.baseURL,"/resource/upload"),beforeUpload:R,onChange:this.handleUptImgChange},D?S.default.createElement("img",{src:D,alt:"ava"}):B?S.default.createElement("div",null,S.default.createElement(u.default,{type:this.state.loadingImg?"loading":"plus"}),S.default.createElement("div",{className:"ant-upload-text"},"\u5df2\u4e0a\u4f20\u8fc7\u8d44\u6e90")):""!=a&&void 0!=n&&n.materialUrl?"jpg"==n.materialType||"png"==n.materialType||"jpeg"==n.materialType?S.default.createElement("img",{src:n.materialUrl,alt:"avatar"}):S.default.createElement("div",null,S.default.createElement(u.default,{type:this.state.loadingImg?"loading":"plus"}),S.default.createElement("div",{className:"ant-upload-text"},"\u5df2\u4e0a\u4f20\u8fc7\u8d44\u6e90")):S.default.createElement("div",null,S.default.createElement(u.default,{type:this.state.loadingImg?"loading":"plus"}),S.default.createElement("div",{className:"ant-upload-text"},"Upload"),S.default.createElement("div",null,"\u56fe\u7247\u4ec5\u652f\u6301jpg\u6216png\u683c\u5f0f\uff0c\u56fe\u7247\u4e0d\u5f97\u8d85\u8fc72MB\uff0c\u6bd4\u4f8b\u4e3a16:9\uff0c\u89c6\u9891\u5927\u5c0f\u4e0d\u5f97\u8d85\u8fc7200MB")))))),4===v("questionType")||c.length>=9?null:S.default.createElement("div",{style:{width:"100%",marginLeft:"100px"}},S.default.createElement(d.default,{style:{width:"50%",marginTop:16,marginBottom:8},type:"dashed",onClick:function(){return e.changeUploadList("plus")},icon:"plus",id:"mediaBtn"},"\u6dfb\u52a0\u7b54\u6848")),S.default.createElement("span",{style:{width:"100%",display:"block",textAlign:"center"}},S.default.createElement(d.default,{type:"primary",htmlType:"submit",style:{marginRight:"20px",padding:"0 50px"}},"\u4fdd\u5b58"),S.default.createElement(d.default,{htmlType:"submit",onClick:this.handleGoBack,style:{padding:"0 50px"}},"\u53d6\u6d88"))))))}},{key:"render",value:function(){return S.default.createElement("div",null,this.renderForm())}}]),t}(S.Component))||k),V=B;t.default=V},QVJe:function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var o=l(a("bx4M"));a("qVdP");var r=l(a("jsC+"));a("lUTK");var d=l(a("BvKs"));a("jCWc");var i=l(a("kPKH"));a("+L6B");var u=l(a("2/Rp"));a("Pwec");var s=l(a("CtXQ"));a("/xke");var c=l(a("TeRw")),f=l(a("MVZn")),p=l(a("lwsE")),m=l(a("W8MJ")),h=l(a("a1gu")),g=l(a("Nsbk")),y=l(a("7W2i")),v=l(a("PJYZ"));a("5NDa");var k=l(a("5rEg"));a("OaEy");var E=l(a("2fM7"));a("y8nQ");var S=l(a("Vl3Y"));a("7Kak");var C=l(a("9yH6"));a("2qtc");var w,I,b,T=l(a("kLXV")),M=n(a("q1tI")),x=a("MuoO"),D=a("7DNP"),R=l(a("Izme")),B=l(a("FnG8")),V=l(a("pjgK")),q=l(a("XZXw")),U=l(a("Q7Re")),L=(l(a("wd/R")),l(a("XH3O"))),N=l(a("OFJw")),O=T.default.confirm,F=(C.default.Group,S.default.Item,E.default.Option),Q=(k.default.TextArea,w=(0,x.connect)(function(e){return{itemBankManage:e.itemBankManage}}),I=S.default.create(),w(b=I(b=function(e){function t(){var e,a;(0,p.default)(this,t);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return a=(0,h.default)(this,(e=(0,g.default)(t)).call.apply(e,[this].concat(n))),a.state={formValues:{},pagination:{rows:10,page:1},addModalTitle:"",addModalType:"",addModalItem:"",addVisible:!1,selectedRows:[],resourceData:[{key:0,type:1,resourceId:null,sort:1,content:null}]},a.handleStandardTableChange=function(e){var t=a.props.dispatch,l=a.state.formValues,n=(0,f.default)({},l,{page:e.current,rows:e.pageSize});a.setState({pagination:{rows:e.pageSize,page:e.current}}),t({type:"itemBankManage/getSchoolQuestionBankList",payload:n})},a.handleSearch=function(e){e.preventDefault();var t=a.props,l=t.dispatch,n=t.form,o=a.state.pagination;n.validateFields(["contentS","levelS","questionTypeS"],function(e,t){var n=(0,f.default)({},t,o,{page:1});a.setState({formValues:n,pagination:(0,f.default)({},o,{page:1})}),l({type:"itemBankManage/getSchoolQuestionBankList",payload:n})})},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.addShow=function(e,t){var l="",n="",o=(0,v.default)((0,v.default)(a));a.props.dispatch({type:"itemBankManage/getSchoolCustomTestConfigoItem",callback:function(r){r&&r.id?("edit"===e?(console.log(t),l="\u7f16\u8f91",n=t.id,o.props.dispatch({type:"itemBankManage/getSchoolQuestionBankItem",payload:{id:t.id},callback:function(e){e&&e.length>0&&o.setState({resourceData:e})}})):l="\u65b0\u589e",a.setState({addVisible:!0,addModalTitle:l,addModalType:e,addModalItem:t,itemId:n})):c.default.error({message:"\u6682\u65e0\u7ec4\u9898\u89c4\u5219\uff0c\u8bf7\u5148\u8bbe\u7f6e\u7ec4\u9898\u89c4\u5219"})}})},a.addHide=function(){a.props.form.resetFields(),a.setState({addVisible:!1,addModalTitle:"",addModalType:"",addModalItem:"",itemId:"",resourceData:[{key:0,type:1,resourceId:null,sort:1,content:null}]})},a.add=function(e){var t=a.state.resourceData,l=a.props,n=l.dispatch,o=l.form,r=a.state,d=r.addModalItem,i=r.addModalType,u=r.pagination,s=r.formValues,p=(0,v.default)((0,v.default)(a));o.validateFields(function(a,l){if(!a){var o={};if(4!=l.questionType){if(t.length<2)return void c.default.error({message:"\u8bf7\u6dfb\u52a0\u4e24\u4e2a\u4ee5\u4e0a\u7b54\u6848"});if(t.length>9)return void c.default.error({message:"\u8bf7\u6dfb\u52a0\u4e5d\u4e2a\u4ee5\u4e0b\u7b54\u6848"})}for(var r=0;r<t.length;r++)if(t[r].isCorrect=null,4!==l.questionType&&(void 0==t[r].content||""==t[r].content))return void c.default.error({message:"\u8bf7\u8f93\u5165\u5b8c\u6574\u7b54\u6848"});if(1===l.questionType)for(var m=0;m<t.length;m++){if(void 0==l.item)return void c.default.error({message:"\u8bf7\u9009\u62e9\u6b63\u786e\u7b54\u6848"});t[m].sort===l.item&&(t[m].isCorrect=1)}if(2===l.questionType){if(l.itemMore.length<=0)return void c.default.error({message:"\u8bf7\u9009\u62e9\u6b63\u786e\u7b54\u6848"});for(var h=0;h<t.length;h++)for(var g=0;g<l.itemMore.length;g++)t[h].sort===l.itemMore[g]&&(t[h].isCorrect=1)}4===l.questionType&&(1==l.itemNike?(t[0].isCorrect=1,t[0].content="\u5bf9",t[1]={},t[1].isCorrect=2,t[1].content="\u9519"):(t[0].isCorrect=2,t[0].content="\u5bf9",t[1]={},t[1].isCorrect=1,t[1].content="\u9519")),"edit"===i?(o=(0,f.default)({},l,{id:d.id,items:t,materialResourceId:e}),delete o.contentS,delete o.levelS,delete o.questionTypeS,delete o.previewImageUrl,n({type:"itemBankManage/uptSchoolQuestionBankData",payload:{values:(0,f.default)({},o),searchVal:(0,f.default)({},s,u)},callback:function(){p.addHide()}})):(o=(0,f.default)({},l,{items:t,materialResourceId:e}),delete o.contentS,delete o.levelS,delete o.questionTypeS,delete o.previewImageUrl,n({type:"itemBankManage/addSchoolQuestionBankData",payload:{values:(0,f.default)({},o),searchVal:(0,f.default)({},u,{page:1})},callback:function(){p.addHide()}}))}})},a.delInfo=function(e){(0,v.default)((0,v.default)(a));var t=a.props.dispatch,l=a.state,n=l.formValues,o=l.pagination;O({title:"",content:"\u662f\u5426\u786e\u8ba4\u5220\u9664\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){t({type:"itemBankManage/delSchoolQuestionBankData",payload:{ids:[e.id],searchVal:(0,f.default)({},n,o)}})},onCancel:function(){}})},a.handleMenuClick=function(e){var t=a.props.dispatch,l=a.state,n=l.formValues,o=l.selectedRows,r=l.pagination,d=(0,v.default)((0,v.default)(a));if(o&&!(o.length<=0))switch(e.key){case"del":O({title:"",content:"\u662f\u5426\u786e\u8ba4\u5220\u9664\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){t({type:"itemBankManage/delSchoolQuestionBankData",payload:{ids:o.map(function(e){return e.id}),searchVal:(0,f.default)({},n,r)},callback:function(){d.setState({selectedRows:[]})}})},onCancel:function(){this.setState({selectedRows:[]})}});break;default:break}},a.handleInfo=function(e){var t=(0,v.default)((0,v.default)(a)),l=a.props.dispatch,n=a.state,o=n.formValues,r=n.pagination;l({type:"manage/uptSchoolData",payload:(0,f.default)({},e,{status:2==e.status?1:2,searchVal:(0,f.default)({},o,r)}),callback:function(){t.setState({selectedRows:[]})}})},a.handleTabChange=function(e){var t=a.props.dispatch;switch(e){case"knowPointsManage":t(D.routerRedux.push("/itemBankManage/know-points-manage"));break;case"itemManage":t(D.routerRedux.push("/itemBankManage/item-manage"));break;case"customManage":t(D.routerRedux.push("/itemBankManage/custom-manage"));break;case"groupManage":t(D.routerRedux.push("/itemBankManage/group-manage"));break;default:break}},a.changeUploadList=function(e,t,l){var n=a.state.resourceData&&a.state.resourceData.length>0?a.state.resourceData.slice(0):[];if("plus"===e){for(var o=0,r=0,d=0;d<n.length;d++)0===d?(o=n[d].key,r=n[d].sort):(r=n[d].sort>n[d-1].sort?n[d].sort:n[d-1].sort,o=n[d].key>n[d-1].key?n[d].key:n[d-1].key);n.push({key:o+1,type:1,resourceId:null,sort:r+1,content:null})}else{if(n&&n.length<=1)return void c.default.error({message:"\u81f3\u5c11\u4fdd\u7559\u4e00\u6761"});for(var i=0;i<n.length;i++)if(t===n[i].key){n.splice(i,1),i<n.length-1&&(n[i+1].sort=l);break}}a.setState({resourceData:n})},a.onSingleChange=function(e,t){for(var l=a.state.resourceData&&a.state.resourceData.length>0?a.state.resourceData.slice(0):[],n=0;n<l.length;n++)if(t===l[n].key){l[n].content=e;break}a.setState({resourceData:l})},a.onUploadChange=function(e,t){for(var l=a.state.resourceData&&a.state.resourceData.length>0?a.state.resourceData.slice(0):[],n=0;n<l.length;n++)if(t===l[n].key){l[n].type=e;break}a.setState({resourceData:l})},a.handleresourceChange=function(e,t){var l=a.state.resourceData&&a.state.resourceData.length>0?a.state.resourceData.slice(0):[];if("uploading"!==e.file.status){if("done"===e.file.status){console.log(e.file.response);for(var n=0;n<l.length;n++)if(t===l[n].key){l[n].key=t,l[n].resourceId=e.file.response.resource.id;break}console.log(l),a.setState({loading:!1,resourceData:l})}}else a.setState({loading:!0})},a}return(0,y.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=this.state,a=t.pagination,l=t.formValues;e({type:"itemBankManage/getSchoolQuestionTopicAll"}),e({type:"itemBankManage/getSchoolQuestionBankList",payload:(0,f.default)({},a,l)})}},{key:"renderForm",value:function(){var e=this,t=[M.default.createElement(F,{key:"1",value:"1"},"\u7b80\u5355"),M.default.createElement(F,{key:"2",value:"2"},"\u666e\u901a"),M.default.createElement(F,{key:"3",value:"3"},"\u56f0\u96be")],a=[M.default.createElement(F,{key:"1",value:"1"},"\u5355\u9009"),M.default.createElement(F,{key:"2",value:"2"},"\u591a\u9009"),M.default.createElement(F,{key:"4",value:"4"},"\u5224\u65ad")];return M.default.createElement(S.default,{onSubmit:this.handleSearch,layout:"inline"},M.default.createElement(B.default,{dispatch:this.props,dataInx:"contentS",con:"\u9898\u76ee\u5185\u5bb9",innerCon:"\u8bf7\u8f93\u5165\u9898\u76ee\u5185\u5bb9",maxLength:"15",size:{lg:12,xl:8,xxl:6}}),M.default.createElement(L.default,{dispatch:this.props,size:{lg:12,xl:8,xxl:6},dataInx:"levelS",con:"\u96be\u6613\u5ea6",innerCon:"\u5168\u90e8",optObj:t}),M.default.createElement(L.default,{dispatch:this.props,size:{lg:12,xl:8,xxl:6},dataInx:"questionTypeS",con:"\u9898\u76ee\u7c7b\u578b",innerCon:"\u5168\u90e8",optObj:a}),M.default.createElement(V.default,{dispatch:this.props,con:"\u641c\u7d22",size:{lg:12,xl:8,xxl:1}}),M.default.createElement(i.default,{id:"mediaXl"},M.default.createElement(u.default,{type:"primary",style:{marginLeft:"10px"},onClick:function(){return e.addShow()}},M.default.createElement(s.default,{type:"plus-circle"}),"\u65b0\u589e")))}},{key:"render",value:function(){var e=this.props,t=e.itemBankManage,a=t.schoolQuestionTopicDataAll,l=t.loading,n=t.schoolQuestionBankData,c=t.schoolQuestionBankItem,f=(e.form.getFieldDecorator,this.state),p=f.addVisible,m=f.addModalTitle,h=(f.addModalType,f.itemId),g=(f.itemDetails,f.detailFlag,f.resourceData),y=M.default.createElement(d.default,{onClick:this.handleMenuClick,selectedKeys:[]},M.default.createElement(d.default.Item,{key:"del"},"\u6279\u91cf\u5220\u9664")),v=[{key:"knowPointsManage",tab:"\u77e5\u8bc6\u70b9\u7ba1\u7406"},{key:"itemManage",tab:"\u9898\u5e93\u7ba1\u7406"},{key:"customManage",tab:"\u81ea\u5b9a\u4e49\u7ec4\u9898"},{key:"groupManage",tab:"\u7ec4\u9898\u89c4\u5219"}];return M.default.createElement(q.default,{tabList:v,activeIndex:1,onTabChange:this.handleTabChange},M.default.createElement(o.default,{bordered:!1},M.default.createElement("div",{className:U.default.classManageList},M.default.createElement("div",{className:U.default.classManageListForm},this.renderForm(),M.default.createElement(i.default,{lg:12,xl:8,xxl:6,className:U.default.pointerSpan},M.default.createElement("span",{className:U.default.tableListOperator},M.default.createElement("span",null,M.default.createElement(r.default,{overlay:y},M.default.createElement(u.default,{style:{width:"150px"}},"\u6279\u91cf\u64cd\u4f5c ",M.default.createElement(s.default,{type:"down"}))))))),M.default.createElement(R.default,{loading:l,data:n,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange,dispatch:this.props.dispatch,uptInfo:this.addShow,delInfo:this.delInfo,handleInfo:this.handleInfo}))),p?M.default.createElement(N.default,{dispatch:this.props,addVisible:p,addShow:this.addShow,addHide:this.addHide,add:this.add,itemId:h,itemDetails:c,items:g,addModalTitle:m,schoolQuestionTopicData:a,changeUploadList:this.changeUploadList,onUploadChange:this.onUploadChange,handleresourceChange:this.handleresourceChange,onSingleChange:this.onSingleChange}):"")}}]),t}(M.Component))||b)||b);t.default=Q}}]);