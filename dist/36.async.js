(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[36],{Rt6W:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("/xke");var r=l(a("TeRw")),s=l(a("MVZn")),u=l(a("o0o1")),o=(a("ZNLi"),l(a("wd/R")),a("b/c7")),n=a("GBM+"),c=a("0hcr"),i={namespace:"bluetoothManage",state:{loading:!1,schoolBluetoothItem:{},schoolBluetoothData:{list:[],pagination:{}},recourseList:[],bluetoothAll:[]},subscriptions:{setup:function(e){e.dispatch,e.history}},effects:{getRecourseList:u.default.mark(function e(t,a){var l,r,s,i,d,p,h;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(l=t.payload,t.callback,r=a.call,a.select,s=a.put,i={type:l&&l.type?l.type:1},p=[],!l||8!=l.type){e.next=15;break}return e.next=7,r(c.getSchoolMissionAll,{});case 7:if(d=e.sent,(0,o.validResult)(d)){e.next=10;break}return e.abrupt("return");case 10:for(h=0;h<d.data.list.length;h++)1==d.data.list[h].targetType&&p.push(d.data.list[h]);return e.next=13,s({type:"saveCP",payload:{recourseList:p}});case 13:e.next=22;break;case 15:return e.next=17,r(n.getRecourseList,i);case 17:if(d=e.sent,(0,o.validResult)(d)){e.next=20;break}return e.abrupt("return");case 20:return e.next=22,s({type:"saveCP",payload:{recourseList:d.data.items}});case 22:case"end":return e.stop()}},e,this)}),getBluetoothAll:u.default.mark(function e(t,a){var l,r,s,c,i;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return l=t.payload,t.callback,r=a.call,a.select,s=a.put,c={type:l&&l.type?l.type:1},e.next=5,r(n.getBluetoothAll,c);case 5:if(i=e.sent,(0,o.validResult)(i)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,s({type:"saveCP",payload:{bluetoothAll:i.data.list}});case 10:case"end":return e.stop()}},e,this)}),getSchoolBluetoothList:u.default.mark(function e(t,a){var l,r,s,c,i,d,p;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return l=t.payload,t.callback,r=a.call,a.select,s=a.put,c={rows:l&&l.rows?l.rows:10,page:l&&l.page?l.page:1,title:l&&l.titleS?l.titleS:"",uuid:l&&l.uuidS?l.uuidS:""},e.next=5,r(n.getSchoolBluetooth,c);case 5:if(i=e.sent,(0,o.validResult)(i)){e.next=8;break}return e.abrupt("return");case 8:return d={},p={},p.current=i.data.current?parseInt(i.data.current):1,p.pageSize=i.data.size?parseInt(i.data.size):10,p.total=parseInt(i.data.total),d.pagination=p,d.list=i.data.list,e.next=17,s({type:"saveSchoolBluetoothData",payload:d});case 17:case"end":return e.stop()}},e,this)}),addSchoolBluetoothData:u.default.mark(function e(t,a){var l,c,i,d,p,h;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return l=t.payload,c=t.callback,i=a.call,a.select,d=a.put,p=(0,s.default)({},l.values),console.log(p),e.next=6,i(n.addSchoolBluetoothData,p);case 6:if(h=e.sent,(0,o.validResult)(h)){e.next=9;break}return e.abrupt("return");case 9:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=12,d({type:"getSchoolBluetoothList",payload:(0,s.default)({},l.searchVal)});case 12:c&&c();case 13:case"end":return e.stop()}},e,this)}),getSchoolBluetoothItem:u.default.mark(function e(t,a){var l,r,s,c,i;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return l=t.payload,t.callback,r=a.call,a.select,s=a.put,c={id:l.id},e.next=5,r(n.getSchoolBluetoothItem,c);case 5:if(i=e.sent,(0,o.validResult)(i)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,s({type:"saveCP",payload:{schoolBluetoothItem:i.data.schoolBluetooth}});case 10:case"end":return e.stop()}},e,this)}),uptSchoolBluetoothData:u.default.mark(function e(t,a){var l,c,i,d,p,h;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return l=t.payload,c=t.callback,i=a.call,a.select,d=a.put,p=(0,s.default)({},l.values),e.next=5,i(n.uptSchoolBluetoothItem,p);case 5:if(h=e.sent,(0,o.validResult)(h)){e.next=8;break}return e.abrupt("return");case 8:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=11,d({type:"getSchoolBluetoothList",payload:(0,s.default)({},l.searchVal)});case 11:c&&c();case 12:case"end":return e.stop()}},e,this)}),delSchoolBluetoothData:u.default.mark(function e(t,a){var l,c,i,d,p,h;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return l=t.payload,c=t.callback,i=a.call,a.select,d=a.put,console.log(l),p={ids:l&&l.ids?l.ids:[]},e.next=6,i(n.delSchoolBluetooth,p);case 6:if(h=e.sent,(0,o.validResult)(h)){e.next=9;break}return e.abrupt("return");case 9:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=12,d({type:"getSchoolBluetoothList",payload:(0,s.default)({},l.searchVal)});case 12:c&&c();case 13:case"end":return e.stop()}},e,this)})},reducers:{changeLoading:function(e,t){return(0,s.default)({},e,{loading:t.payload})},saveCP:function(e,t){return(0,s.default)({},e,t.payload)},saveSchoolBluetoothData:function(e,t){return(0,s.default)({},e,{schoolBluetoothData:t.payload})}}};t.default=i}}]);