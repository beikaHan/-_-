(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{fKWk:function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var r=n(a("bx4M"));a("+L6B");var i=n(a("2/Rp"));a("giR+");var u=n(a("fyUT"));a("/xke");var d=n(a("TeRw")),o=n(a("MVZn")),c=n(a("lwsE")),s=n(a("W8MJ")),f=n(a("a1gu")),m=n(a("Nsbk")),p=n(a("7W2i"));a("5NDa");var g=n(a("5rEg"));a("OaEy");var h=n(a("2fM7"));a("y8nQ");var y=n(a("Vl3Y"));a("7Kak");var E=n(a("9yH6"));a("2qtc");var v,b,k,x=n(a("kLXV")),T=l(a("q1tI")),w=a("MuoO"),M=a("7DNP"),P=(n(a("yNge")),n(a("FnG8")),n(a("pjgK")),n(a("UPwx")),n(a("XZXw"))),C=a("KTCi"),N=n(a("Q7Re")),S=(n(a("wd/R")),x.default.confirm,E.default.Group,y.default.Item),B=(h.default.Option,g.default.TextArea,v=(0,w.connect)(function(e){return{itemBankManage:e.itemBankManage}}),b=y.default.create(),v(k=b(k=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,f.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(l))),a.state={salesType:"point"},a.handleTabChange=function(e){var t=a.props.dispatch;switch(e){case"knowPointsManage":t(M.routerRedux.push("/itemBankManage/know-points-manage"));break;case"itemManage":t(M.routerRedux.push("/itemBankManage/item-manage"));break;case"customManage":t(M.routerRedux.push("/itemBankManage/custom-manage"));break;case"groupManage":t(M.routerRedux.push("/itemBankManage/group-manage"));break;default:break}},a.handleChangeSalesType=function(e){a.setState({salesType:e.target.value})},a.handleCancel=function(){a.props.form.resetFields()},a.handleChange=function(e){e.preventDefault(),console.log(a.props.form),a.props.form.validateFields(function(e,t){if(!e){var n=(0,o.default)({},t);n.topicTestSize&&n.topicHardPercent&&n.topicNormalPercent&&n.topicEasyPercent&&n.randomTestSize&&n.randomHardPercent&&n.randomNormalPercent&&n.randomEasyPercent?n.topicHardPercent+n.topicNormalPercent+n.topicEasyPercent==100?n.randomHardPercent+n.randomNormalPercent+n.randomEasyPercent==100?a.props.dispatch({type:"itemBankManage/uptSchoolCustomTestConfigoData",payload:{values:(0,o.default)({},n)}}):d.default.error({message:"\u968f\u673a\u51fa\u9898\u96be\u6613\u5ea6\u5360\u6bd4\u603b\u548c\u5e94\u4e3a100%"}):d.default.error({message:"\u77e5\u8bc6\u70b9\u51fa\u9898\u96be\u6613\u5ea6\u5360\u6bd4\u603b\u548c\u5e94\u4e3a100%"}):d.default.error({message:"\u8bf7\u586b\u5199\u5b8c\u6574\u89c4\u5219"})}})},a}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=this.state;t.pagination,t.formValues;e({type:"itemBankManage/getSchoolCustomTestConfigoItem"})}},{key:"render",value:function(){var e=this.state.salesType,t=this.props,a=t.itemBankManage,n=(a.loading,a.schoolCustomTestConfigoData,a.schoolCustomTestConfigoItem,a.pointData),l=a.rendomData,d=a.randomTestSize,o=a.topicTestSize,c=t.form.getFieldDecorator,s="point"===e?n:l,f="point"===e?o:d,m=[{key:"knowPointsManage",tab:"\u77e5\u8bc6\u70b9\u7ba1\u7406"},{key:"itemManage",tab:"\u9898\u5e93\u7ba1\u7406"},{key:"customManage",tab:"\u81ea\u5b9a\u4e49\u7ec4\u9898"},{key:"groupManage",tab:"\u7ec4\u9898\u89c4\u5219"}];return T.default.createElement(P.default,{tabList:m,activeIndex:3,onTabChange:this.handleTabChange},T.default.createElement(y.default,{onSubmit:this.handleChange,layout:"inline"},T.default.createElement("div",{className:N.default.content},T.default.createElement("div",{className:N.default.tilflex,style:{padding:"0 10px",width:"150px"}},"\u77e5\u8bc6\u70b9\u51fa\u9898\u89c4\u5219"),T.default.createElement(S,{label:"\u51fa\u9898\u603b\u6570"},c("topicTestSize",{initialValue:o})(T.default.createElement(u.default,{min:1,max:100,style:{width:"100%"}}))),T.default.createElement("div",{className:N.default.tilflex},"\u96be\u6613\u5ea6\u5360\u6bd4"),T.default.createElement(S,{label:"\u56f0\u96be"},c("topicHardPercent",{initialValue:n&&n[0]&&n[0].y})(T.default.createElement(u.default,{min:1,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},style:{width:"100%"}}))),T.default.createElement(S,{label:"\u6b63\u5e38"},c("topicNormalPercent",{initialValue:n&&n[1]&&n[1].y})(T.default.createElement(u.default,{min:1,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},style:{width:"100%"}}))),T.default.createElement(S,{label:"\u7b80\u5355"},c("topicEasyPercent",{initialValue:n&&n[2]&&n[2].y})(T.default.createElement(u.default,{min:1,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},style:{width:"100%"}})))),T.default.createElement("div",{className:N.default.content},T.default.createElement("div",{className:N.default.tilflex,style:{padding:"0 10px",width:"150px"}},"\u968f\u673a\u51fa\u9898\u89c4\u5219"),T.default.createElement(S,{label:"\u51fa\u9898\u603b\u6570"},c("randomTestSize",{initialValue:d})(T.default.createElement(u.default,{min:1,max:100,style:{width:"100%"}}))),T.default.createElement("div",{className:N.default.tilflex},"\u96be\u6613\u5ea6\u5360\u6bd4"),T.default.createElement(S,{label:"\u56f0\u96be"},c("randomHardPercent",{initialValue:l&&l[0]&&l[0].y})(T.default.createElement(u.default,{min:1,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},style:{width:"100%"}}))),T.default.createElement(S,{label:"\u6b63\u5e38"},c("randomNormalPercent",{initialValue:l&&l[1]&&l[1].y})(T.default.createElement(u.default,{min:1,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},style:{width:"100%"}}))),T.default.createElement(S,{label:"\u7b80\u5355"},c("randomEasyPercent",{initialValue:l&&l[2]&&l[2].y})(T.default.createElement(u.default,{min:1,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},style:{width:"100%"}})))),T.default.createElement("span",{style:{width:"100%",display:"block",textAlign:"center",background:"#fff",padding:"20px 0"}},T.default.createElement(i.default,{type:"primary",htmlType:"submit",style:{marginRight:"20px",padding:"0 50px"}},"\u4fdd\u5b58"),T.default.createElement(i.default,{htmlType:"submit",onClick:this.handleCancel,style:{padding:"0 50px"}},"\u53d6\u6d88"))),T.default.createElement(r.default,{className:N.default.salesCard,bordered:!1,title:"\u51fa\u9898\u89c4\u5219",bodyStyle:{padding:24},extra:T.default.createElement("div",{className:N.default.salesCardExtra},T.default.createElement("div",{className:N.default.salesTypeRadio},T.default.createElement(E.default.Group,{value:e,onChange:this.handleChangeSalesType},T.default.createElement(E.default.Button,{value:"point"},"\u77e5\u8bc6\u70b9"),T.default.createElement(E.default.Button,{value:"redom"},"\u968f\u673a")))),style:{marginTop:24,minHeight:509}},T.default.createElement(C.Pie,{hasLegend:!0,subTitle:"\u51fa\u9898\u603b\u6570",total:f,data:s,height:248,lineWidth:4})))}}]),t}(T.Component))||k)||k);t.default=B}}]);