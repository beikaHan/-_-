(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[43],{Osah:function(e,a,t){e.exports={classManageList:"antd-pro\\pages\\-certificate-manage\\-manage-classManageList",tableListOperator:"antd-pro\\pages\\-certificate-manage\\-manage-tableListOperator",mockBtn:"antd-pro\\pages\\-certificate-manage\\-manage-mockBtn",classManageListForm:"antd-pro\\pages\\-certificate-manage\\-manage-classManageListForm",submitButtons:"antd-pro\\pages\\-certificate-manage\\-manage-submitButtons",tableListForm:"antd-pro\\pages\\-certificate-manage\\-manage-tableListForm",classManageEdit:"antd-pro\\pages\\-certificate-manage\\-manage-classManageEdit",content:"antd-pro\\pages\\-certificate-manage\\-manage-content",swiflex:"antd-pro\\pages\\-certificate-manage\\-manage-swiflex",tilflex:"antd-pro\\pages\\-certificate-manage\\-manage-tilflex",zhuflex:"antd-pro\\pages\\-certificate-manage\\-manage-zhuflex",spancenter:"antd-pro\\pages\\-certificate-manage\\-manage-spancenter",car:"antd-pro\\pages\\-certificate-manage\\-manage-car","ant-card-body":"antd-pro\\pages\\-certificate-manage\\-manage-ant-card-body"}},VL4g:function(e,a,t){"use strict";var l=t("TqRt"),n=t("284h");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("IzEo");var i=l(t("bx4M"));t("+L6B");var r=l(t("2/Rp")),u=l(t("pVnL"));t("giR+");var c=l(t("fyUT"));t("5NDa");var d=l(t("5rEg"));t("DZo9");var s=l(t("8z0m"));t("OaEy");var f=l(t("2fM7"));t("Pwec");var o=l(t("CtXQ")),m=l(t("MVZn")),p=l(t("lwsE")),g=l(t("W8MJ")),h=l(t("a1gu")),E=l(t("Nsbk")),v=l(t("7W2i"));t("miYZ");var y=l(t("tsqr"));t("7Kak");var b=l(t("9yH6"));t("y8nQ");var x,M,I,w=l(t("Vl3Y")),N=n(t("q1tI")),L=t("MuoO"),k=l(t("XZXw")),D=l(t("Osah")),R=(l(t("FnG8")),t("7Qib")),C=l(t("kruT")),F=w.default.Item,O=b.default.Group;function V(e,a){var t=new FileReader;t.addEventListener("load",function(){return a(t.result)}),t.readAsDataURL(e)}function z(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||y.default.error("\u4ec5\u652f\u6301jpg\u6216png\u683c\u5f0f");var t=e.size/1024/1024<2;return t||y.default.error("\u56fe\u7247\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc72MB!"),a&&t}var B=(x=(0,L.connect)(function(e){return{certificateManage:e.certificateManage}}),M=w.default.create(),x(I=M(I=function(e){function a(){var e,t;(0,p.default)(this,a);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return t=(0,h.default)(this,(e=(0,E.default)(a)).call.apply(e,[this].concat(n))),t.state={imageResourceId:""},t.handleChange=function(e){e.preventDefault();var a=t.props,l=a.dispatch,n=a.form,i=t.state.imageResourceId;n.validateFields(function(e,a){if(!e){var t=(0,m.default)({},a,{sorce:parseFloat(a.sorce),isDefault:a.isDefault?1:0,imageResourceId:i});l({type:"certificateManage/addCertificateData",payload:{values:(0,m.default)({},t)}})}})},t.handleImgChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&(console.log(e.file.response),V(e.file.originFileObj,function(a){return t.setState({imageUrl:a,loading:!1,imageResourceId:e.file.response.resource.id})})):t.setState({loading:!0})},t}return(0,v.default)(a,e),(0,g.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"certificateManage/getBluetoothAll"}),e({type:"certificateManage/getCertificateItem"})}},{key:"render",value:function(){var e=this.props,a=e.certificateManage,t=(a.loading,a.certificateItem),l=a.bluetoothAll,n=e.form,m=n.getFieldDecorator,p=n.getFieldValue,g={labelcol:{span:6},wrappercol:{xs:{span:28,offset:0},sm:{span:10,offset:0}}},h=(N.default.createElement("div",null,N.default.createElement(o.default,{type:this.state.loading?"loading":"plus"}),N.default.createElement("div",{className:"ant-upload-text"},"\u5934\u8854\u56fe\u7247")),this.state.imageUrl),E=[];return l&&l.map(function(e){E.push(N.default.createElement(f.default.Option,{value:e.id,key:e.id},e.title))}),"{}"!=JSON.stringify(t)&&N.default.createElement(k.default,{title:"\u8bc1\u4e66\u7ba1\u7406"},N.default.createElement(i.default,{style:{height:"70vh"},className:D.default.car},N.default.createElement(w.default,{onSubmit:this.handleChange,layout:"inline"},N.default.createElement("div",{className:D.default.content},N.default.createElement("div",{className:D.default.swiflex},N.default.createElement(F,{label:"\u5f00\u542f\u6216\u5173\u95ed\u6b64\u529f\u80fd"},m("isDefault",{initialValue:t&&t.isDefault?t.isDefault:2})(N.default.createElement(O,null,N.default.createElement(b.default,{value:1},"\u662f"),N.default.createElement(b.default,{value:2},"\u5426"))))),1==p("isDefault")?N.default.createElement("div",{className:D.default.tilflex},N.default.createElement("div",{className:D.default.zhuflex},N.default.createElement(F,{label:""},m("imageResourceId",{initialValue:t&&t.imageResourceId?t.imageResourceId:""})(N.default.createElement(s.default,{name:"file",listType:"picture-card",showUploadList:!1,headers:{JSESSIONID:(0,R.getCookie)()?(0,R.getCookie)():null},action:"".concat(C.default.baseURL,"/resource/upload"),beforeUpload:z,onChange:this.handleImgChange},t&&t.url?N.default.createElement("img",{src:t.url,alt:"ava"}):h?N.default.createElement("img",{src:h,alt:"avatar"}):N.default.createElement("div",null,N.default.createElement(o.default,{type:this.state.loading?"loading":"plus"}),N.default.createElement("div",{className:"ant-upload-text"},"Upload"))))),N.default.createElement("span",{className:D.default.spancenter},"\u56fe\u7247\u4ec5\u652f\u6301jpg\u6216png\u683c\u5f0f\uff0c\u4e14\u5927\u5c0f\u4e0d\u8d85\u8fc72MB\uff0c\u5c3a\u5bf8\u4e3a120*120")),N.default.createElement("div",{className:D.default.zhuflex},N.default.createElement(F,{label:"\u795d\u8bed"},m("content",{initialValue:t&&t.content?t.content:""})(N.default.createElement(d.default,{placeholder:"",maxLength:"15",autoComplete:"off"})))),N.default.createElement("div",{className:D.default.zhuflex},N.default.createElement(F,{label:"\u83b7\u53d6\u65b9\u5f0f"},m("type",{initialValue:t&&t.type?t.type:1})(N.default.createElement(O,null,N.default.createElement(b.default,{value:1},"\u5b66\u5206"),N.default.createElement(b.default,{value:2},"\u8003\u6838")))),N.default.createElement("span",{className:D.default.spancenter})),N.default.createElement("div",{className:D.default.zhuflex},1==p("type")?N.default.createElement(F,{label:"\u8fbe\u5230\u5206\u6570"},m("score",{initialValue:t&&t.score?t.score:0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u6570"}]})(N.default.createElement(c.default,{min:1,style:{width:"100%"}}))):N.default.createElement(F,(0,u.default)({label:"\u7ec4\u9898\u9009\u62e9"},g,{colon:!1}),m("relationId",{initialValue:t&&t.relationId?t.relationId:l&&l[0]?l[0].id:"",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7ec4\u9898"}]})(N.default.createElement(f.default,{placeholder:"\u8bf7\u9009\u62e9\u7ec4\u9898"},E))),2==p("type")?N.default.createElement("span",{className:D.default.spancenter},"\u4ece\u84dd\u7259\u4efb\u52a1\u4e2d\u9009\u62e9\u81ea\u5b9a\u4e49\u7ec4\u9898"):null)):null),N.default.createElement("span",{style:{width:"100%",display:"block",textAlign:"center",marginTop:"20px"}},N.default.createElement(r.default,{type:"primary",htmlType:"submit",style:{marginRight:"20px",padding:"0 50px"}},"\u4fdd\u5b58"),N.default.createElement(r.default,{htmlType:"submit",onClick:this.handleGoBack,style:{padding:"0 50px"}},"\u53d6\u6d88")))))}}]),a}(N.Component))||I)||I);a.default=B}}]);