(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{"4cZT":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("/xke");var r=n(a("TeRw")),u=n(a("MVZn")),s=n(a("o0o1")),i=(a("ZNLi"),n(a("wd/R")),a("b/c7")),o=a("yUaT"),l={namespace:"questionnaireInvestigation",state:{loading:!1,schoolQuestionnaireItem:{},schoolQuestionnaireData:{list:[],pagination:{}},items:[],resultDataList:{},resultDataListItems:[],joinUserCount:0},subscriptions:{setup:function(e){e.dispatch,e.history}},effects:{getSchoolQuestionnaireList:s.default.mark(function e(t,a){var n,r,u,l,c,d,p;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,t.callback,r=a.call,a.select,u=a.put,l={rows:n&&n.rows?n.rows:10,page:n&&n.page?n.page:1,title:n&&n.titleS?n.titleS:""},e.next=5,r(o.getSchoolQuestionnaire,l);case 5:if(c=e.sent,(0,i.validResult)(c)){e.next=8;break}return e.abrupt("return");case 8:return d={},p={},p.current=c.data.current?parseInt(c.data.current):1,p.pageSize=c.data.size?parseInt(c.data.size):10,p.total=parseInt(c.data.total),d.pagination=p,d.list=c.data.list,e.next=17,u({type:"saveSchoolQuestionnaireData",payload:d});case 17:case"end":return e.stop()}},e,this)}),addSchoolQuestionnaireData:s.default.mark(function e(t,a){var n,l,c,d,p,f;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,l=t.callback,c=a.call,a.select,d=a.put,p=(0,u.default)({},n.values),console.log(p),e.next=6,c(o.addSchoolQuestionnaireData,p);case 6:if(f=e.sent,(0,i.validResult)(f)){e.next=9;break}return e.abrupt("return");case 9:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=12,d({type:"getSchoolQuestionnaireList",payload:(0,u.default)({},n.searchVal)});case 12:l&&l();case 13:case"end":return e.stop()}},e,this)}),getSchoolQuestionnaireItem:s.default.mark(function e(t,a){var n,r,u,l,c,d,p;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=t.callback,u=a.call,a.select,l=a.put,c={id:n.id},e.next=5,u(o.getSchoolQuestionnaireItem,c);case 5:if(d=e.sent,(0,i.validResult)(d)){e.next=8;break}return e.abrupt("return");case 8:for(p=0;p<d.data.items.length;p++)d.data.items[p].key=[p];return e.next=11,l({type:"saveCP",payload:{schoolQuestionnaireItem:d.data.schoolQuestionnaireView,items:d.data.items}});case 11:r&&r(d.data.items);case 12:case"end":return e.stop()}},e,this)}),uptSchoolQuestionnaireData:s.default.mark(function e(t,a){var n,l,c,d,p,f;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,l=t.callback,c=a.call,a.select,d=a.put,p=(0,u.default)({},n.values),e.next=5,c(o.uptSchoolQuestionnaireItem,p);case 5:if(f=e.sent,(0,i.validResult)(f)){e.next=8;break}return e.abrupt("return");case 8:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=11,d({type:"getSchoolQuestionnaireList",payload:(0,u.default)({},n.searchVal)});case 11:l&&l();case 12:case"end":return e.stop()}},e,this)}),delSchoolQuestionnaireData:s.default.mark(function e(t,a){var n,l,c,d,p,f;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,l=t.callback,c=a.call,a.select,d=a.put,console.log(n),p={ids:n&&n.ids?n.ids:[]},e.next=6,c(o.delSchoolQuestionnaire,p);case 6:if(f=e.sent,(0,i.validResult)(f)){e.next=9;break}return e.abrupt("return");case 9:return r.default.success({message:"\u64cd\u4f5c\u6210\u529f"}),e.next=12,d({type:"getSchoolQuestionnaireList",payload:(0,u.default)({},n.searchVal)});case 12:l&&l();case 13:case"end":return e.stop()}},e,this)}),resultData:s.default.mark(function e(t,a){var n,r,u,l,c,d;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=t.callback,u=a.call,a.select,l=a.put,console.log(n),c={id:n&&n.id?n.id:""},e.next=6,u(o.getResultData,c);case 6:if(d=e.sent,(0,i.validResult)(d)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,l({type:"saveCP",payload:{resultDataList:d.data.schoolQuestionnaireView,resultDataListItems:d.data.Items,joinUserCount:d.data.joinUserCount}});case 11:r&&r();case 12:case"end":return e.stop()}},e,this)}),pushWX:s.default.mark(function e(t,a){var n,u,l,c;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,t.callback,u=a.call,a.select,a.put,console.log(n),l={id:n&&n.id?n.id:""},e.next=6,u(o.pushWX,l);case 6:if(c=e.sent,(0,i.validResult)(c)){e.next=9;break}return e.abrupt("return");case 9:r.default.success({message:"\u63a8\u9001\u6210\u529f"});case 10:case"end":return e.stop()}},e,this)})},reducers:{changeLoading:function(e,t){return(0,u.default)({},e,{loading:t.payload})},saveCP:function(e,t){return(0,u.default)({},e,t.payload)},saveSchoolQuestionnaireData:function(e,t){return(0,u.default)({},e,{schoolQuestionnaireData:t.payload})}}};t.default=l},yUaT:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getSchoolQuestionnaire=i,t.addSchoolQuestionnaireData=l,t.getSchoolQuestionnaireItem=d,t.uptSchoolQuestionnaireItem=f,t.delSchoolQuestionnaire=w,t.getResultData=v,t.pushWX=b;var r=n(a("o0o1")),u=n(a("yXPU")),s=n(a("t3Un"));function i(e){return o.apply(this,arguments)}function o(){return o=(0,u.default)(r.default.mark(function e(t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)("/schoolQuestionnaire/list",{method:"POST",body:t}));case 1:case"end":return e.stop()}},e,this)})),o.apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return c=(0,u.default)(r.default.mark(function e(t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)("/schoolQuestionnaire/add",{method:"POST",body:t}));case 1:case"end":return e.stop()}},e,this)})),c.apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return p=(0,u.default)(r.default.mark(function e(t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)("/schoolQuestionnaire/get",{method:"POST",body:t}));case 1:case"end":return e.stop()}},e,this)})),p.apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return h=(0,u.default)(r.default.mark(function e(t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)("/schoolQuestionnaire/update",{method:"POST",body:t}));case 1:case"end":return e.stop()}},e,this)})),h.apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return y=(0,u.default)(r.default.mark(function e(t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)("/schoolQuestionnaire/del",{method:"POST",body:t}));case 1:case"end":return e.stop()}},e,this)})),y.apply(this,arguments)}function v(e){return m.apply(this,arguments)}function m(){return m=(0,u.default)(r.default.mark(function e(t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)("/schoolQuestionnaire/result",{method:"POST",body:t}));case 1:case"end":return e.stop()}},e,this)})),m.apply(this,arguments)}function b(e){return x.apply(this,arguments)}function x(){return x=(0,u.default)(r.default.mark(function e(t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.default)("/schoolQuestionnaire/push",{method:"POST",body:t}));case 1:case"end":return e.stop()}},e,this)})),x.apply(this,arguments)}}}]);